<!DOCTYPE html>
<html>
<head>
	<title>VP</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="basecss.css">
</head>
<body>
<video id="video" src="https://www.w3schools.com/Html/mov_bbb.mp4">
</video>
<div id="progress">
	<input type="range" min="1" max="100" value="1" id="bar" style="width: 315px"/>
</div>
<div id="controller">
	<i class="fa fa-play" hoverable id="play" style="font-size:24px"></i>
	<i class="fa fa-pause" hoverable id="pause" style="font-size:24px" hidden></i>
	<i class="fa fa-volume-up" hoverable style="font-size:24px" id="volume"></i>
	<input type="range" min="0" max="10" value="10" id="volumeProgress" style="width: 35px"/>
</div>

<script>
let video = document.getElementById('video');
let playButton = document.getElementById('play');
let pauseButton = document.getElementById('pause');

playButton.addEventListener('click',function(e) {
	e.preventDefault();
	video.play();
	playButton.setAttribute('hidden','');
	pauseButton.removeAttribute('hidden');
});
pauseButton.addEventListener('click',function(e) {
	e.preventDefault();
	video.pause();
	pauseButton.setAttribute('hidden','');
	playButton.removeAttribute('hidden');
});
video.addEventListener('ended',function() {
	pauseButton.setAttribute('hidden','');
	playButton.removeAttribute('hidden');
});

let barProgress = document.getElementById('bar');
barProgress.addEventListener('change',function(e) {
	let inputValue = barProgress.value;
	let duration = video.duration;
	let skipTo = (duration / 100) * inputValue;
	video.currentTime = skipTo;
});

video.addEventListener('timeupdate',function() {
	let rangeValue = Math.round(video.currentTime / (video.duration / 100));
	barProgress.value = rangeValue;
	console.log(rangeValue);
});

let volumeProgress = document.getElementById('volumeProgress');
volumeProgress.addEventListener('change',function() {
	video.volume = volumeProgress.value / 10;
});

let volume = document.getElementById('volume');
volume.addEventListener('click',function() {
	if (this.getAttribute('muted') != null) {
		this.removeAttribute('muted');
		video.volume = volumeProgress.value / 10
		this.setAttribute('class','fa fa-volume-up');
		volumeProgress.removeAttribute('hidden');
	} else {
		this.setAttribute('muted','');
		this.setAttribute('class','fa fa-volume-off');
		video.volume = 0;
		volumeProgress.setAttribute('hidden','');
	}
	
	
});
</script>
</body>
</html>